# BCISystem 設定ガイド

## 概要
このフォルダには、BCISystemの動作を制御するための設定ファイルが含まれています。システムの動作パラメータやデバイス設定、信号処理パラメータなど、すべての設定をカスタマイズすることができます。

## ディレクトリ構造
```
config/
├── README.md              # 本ドキュメント
├── getConfig.m           # 設定読み込み用関数
└── presets/              # プリセット設定ファイル
    ├── default/          # デフォルト設定
    │   └── template_preset.m
    └── customPresets/    # カスタムプリセット
        ├── presetA/
        └── presetB/
```

## 設定ファイルの基本

### 1. プリセットについて
- プリセットは特定の実験や用途に最適化された設定のセットです
- `template_preset.m`をベースに新しいプリセットを作成できます
- 各プリセットは独立したフォルダで管理されます

### 2. 設定の読み込み方法
```matlab
% 基本的な使用方法
params = getConfig('epocx');  % デバイス名を指定

% プリセットを指定する場合
params = getConfig('epocx', 'preset', 'customPresets/presetA');
```

## 主要設定カテゴリ

### 1. デバイス設定（device）
- サポートされているデバイス：
  - EPOC X（14チャンネル）
  - MN8（2チャンネル）
  - OpenBCI 8ch
  - OpenBCI 16ch
- 各デバイスのサンプリングレート、チャンネル数、解像度などを設定

### 2. データ収集設定（acquisition）
- モード選択（オンライン/オフライン）
- データ保存オプション
- ファイル名形式
- 保存間隔
- 保存する項目の選択

### 3. 通信設定（communication）
- LSL設定
  - ストリーム名
  - データ形式
  - バッファサイズ
- UDP設定
  - ポート番号
  - アドレス
  - トリガーマッピング

### 4. 信号処理設定（signal）
- 解析窓の設定
- エポック化パラメータ
- 前処理オプション
  - アーティファクト除去
  - ベースライン補正
  - フィルタリング
  - 正規化
- データ拡張オプション

### 5. 特徴抽出設定（feature）
- パワースペクトル解析
- FAA（Frontal Alpha Asymmetry）
- α/β比
- 感情推定
- CSP（Common Spatial Pattern）

### 6. 分類器設定（classifier）
- SVM設定
- ECOC設定
- CNN設定
- 評価方法の設定

### 7. GUI設定（gui）
- 表示更新レート
- 表示項目の選択
- スケール設定
- カラーマップ設定
- スライダー設定

## カスタマイズ方法

### 1. 新しいプリセットの作成
1. `presets/customPresets/`に新しいフォルダを作成
2. `template_preset.m`をコピーして修正
3. パラメータを目的に合わせて調整

### 2. パラメータの調整
- 各パラメータには詳細なコメントが付いています
- 値の範囲や推奨値を参考に調整
- 依存関係に注意（例：サンプリングレートとフィルタ設定）

### 3. 設定の検証
- パラメータの整合性は自動的にチェックされます
- エラーメッセージを参考に修正

## 注意事項
- 設定ファイルの変更は慎重に行ってください
- バックアップを作成することを推奨
- デバイスの仕様を確認してパラメータを設定
- 実験条件に合わせて適切に調整

## トラブルシューティング
- 設定ファイルが読み込めない場合
  - ファイルパスの確認
  - MATLABのパス設定の確認
- パラメータエラーが発生する場合
  - エラーメッセージを確認
  - パラメータの範囲や形式を確認
- 実行時エラーが発生する場合
  - 設定の依存関係を確認
  - デバイスの接続状態を確認

## GPTsパラメータ支援ツール

BCISystemには、OpenAI GPTsを活用したパラメータ設定支援ツールが組み込まれています。この機能により、以下のような支援を受けることができます：

### 主な機能
- 実験目的に応じた最適なパラメータの提案
- 設定の整合性チェック
- トラブルシューティングのサポート
- パラメータの意味と影響の説明
- 実験デザインへのアドバイス

### 使用方法
1. コマンドラインで`gptSupport`を実行
2. 実験の目的や条件を自然言語で入力
3. GPTsが適切なパラメータ設定を提案
4. 提案された設定を検討し、必要に応じて調整

### 注意点
- GPTsの提案は参考情報として活用してください
- 実際の実験条件に合わせて適宜調整が必要です
- 重要なパラメータは必ず実証的に検証してください
